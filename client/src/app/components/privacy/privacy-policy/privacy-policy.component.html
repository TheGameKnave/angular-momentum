<ng-container *transloco="let t">
  <!-- Summary Card -->
  <p-card>
    <ng-template pTemplate="header">
      <h1>{{ t('privacy.Privacy Policy') }}</h1>
      <p class="updated-date">{{ t('privacy.Last updated {date}', { date: privacyUpdatedDate }) }}</p>
    </ng-template>

    <div class="privacy-content">
      <p>
        {{ t('privacy.This privacy notice for {companyName} describes how and why we might collect, store, use, and/or share your information when you use our services.', { companyName: companyName }) }}
      </p>

      <p>
        <strong>{{ t('privacy.Questions or concerns?') }}</strong> {{ t('privacy.Please contact us at') }} <a href="mailto:admin@gameknave.com">admin@gameknave.com</a>.
      </p>

      <p class="summary-box">
        <strong>{{ t('privacy.Summary') }}:</strong> {{ t('privacy.We collect minimal personal information (email, username, password) to provide authentication services…') }}
      </p>
    </div>
  </p-card>

  <!-- Cookie Preferences -->
  <p-card>
    <ng-template pTemplate="header">
      <h2>{{ t('privacy.Cookie Preferences') }}</h2>
    </ng-template>

    <div class="privacy-content">
      <p>{{ t('privacy.We use cookies for analytics (Google Analytics, Hotjar) to improve your experience. You can change your preference at any time.') }}</p>

      <div class="cookie-status">
        <span class="label">{{ t('privacy.Current status') }}:</span>
        @if (cookieConsentService.consentStatus() === 'accepted') {
          <span class="status-enabled">{{ t('privacy.Analytics cookies enabled') }}</span>
        } @else if (cookieConsentService.consentStatus() === 'declined') {
          <span class="status-disabled">{{ t('privacy.Analytics cookies disabled') }}</span>
        } @else {
          <span class="status-pending">{{ t('privacy.Cookie preference not set') }}</span>
        }
      </div>

      <div class="cookie-actions">
        <p-button
          [label]="t('Accept')"
          (onClick)="onAcceptCookies()"
          severity="primary"
          size="small"
          [disabled]="cookieConsentService.consentStatus() === 'accepted'"
        />
        <p-button
          [label]="t('Decline')"
          (onClick)="onDeclineCookies()"
          severity="secondary"
          size="small"
          [disabled]="cookieConsentService.consentStatus() === 'declined'"
        />
      </div>
    </div>
  </p-card>

  <!-- Third-Party Services -->
  <p-card>
    <ng-template pTemplate="header">
      <h2>{{ t('privacy.Third-Party Services') }}</h2>
    </ng-template>

    <div class="privacy-content">
      <p>{{ t('privacy.We use the following third-party services. Please review their privacy policies:') }}</p>

      <ul class="service-list">
        <li>
          <strong>Supabase</strong> ({{ t('privacy.Authentication & Database') }}) —
          <a href="https://supabase.com/privacy" target="_blank" rel="noopener noreferrer">supabase.com/privacy</a>
        </li>
        <li>
          <strong>Google Analytics</strong> ({{ t('privacy.Usage Analytics') }}) —
          <a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer">policies.google.com/privacy</a>
        </li>
        <li>
          <strong>Hotjar</strong> ({{ t('privacy.Behavior Analytics') }}) —
          <a href="https://www.hotjar.com/legal/policies/privacy/" target="_blank" rel="noopener noreferrer">hotjar.com/privacy</a>
        </li>
        <li>
          <strong>Cloudflare Turnstile</strong> ({{ t('privacy.Bot Protection') }}) —
          <a href="https://www.cloudflare.com/privacypolicy/" target="_blank" rel="noopener noreferrer">cloudflare.com/privacypolicy</a>
        </li>
      </ul>
    </div>
  </p-card>

  <!-- Full Privacy Policy -->
  <p-card>
    <ng-template pTemplate="header">
      <h2>{{ t('privacy.Complete Privacy Policy') }}</h2>
    </ng-template>

    <div class="privacy-content">
      <markdown [src]="privacyPolicyUrl"></markdown>
    </div>
  </p-card>
</ng-container>
